"use strict";
import { d, url, necesarios } from "./index.mjs";

d.addEventListener("submit", async t => { const { $form: a } = necesarios; if (t.target === a) if (t.preventDefault(), t.target.id.value) try { const a = { method: "PUT", headers: { "Content-type": "application/json; charset=utf-8" }, body: JSON.stringify({ fruta: t.target.cFrutas.value, cantidad: t.target.cFrutasVendidas.value }) }; let e = await fetch(`${url}/${t.target.id.value}`, a), s = await e.json(); console.log(s), location.reload() } catch (t) { console.log(t) } else try { let a = { method: "POST", headers: { "Content-type": "application/json; charset=utf-8" }, body: JSON.stringify({ fruta: t.target.cFrutas.value, cantidad: t.target.cFrutasVendidas.value }) }, e = await fetch(url, a), s = await e.json(); location.reload(), console.log(s) } catch (t) { console.log(t) } }), d.addEventListener("click", t => { const { $title: a, $form: e, $datos: s } = necesarios; t.target.matches(".edit") && (a.textContent = "editar cantidad de frutas", e.cFrutas.value = t.target.dataset.fruta, e.cFrutas.disabled = !0, e.cFrutasVendidas.value = t.target.dataset.cantidad, e.id.value = t.target.dataset.id, s.style.display = "block", s.style.backgroundColor = "red", s.style.width = "200px", e.sub.value = "enviar cambios") });