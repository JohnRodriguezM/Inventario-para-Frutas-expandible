"use strict";
export const d = document;
export const url = " http://localhost:8000/frutas";
const fruta = document.getElementById("frutasActuales"); export const necesarios = { $tbody: d.querySelector("tbody"), fragment: d.createDocumentFragment(), $template: d.getElementById("crud-template").content, $form: d.getElementById("form"), $datos: d.getElementById("traerDatos"), $title: d.getElementById("title"), $return: d.getElementById("return") }; const getData = async t => { const { fragment: e, $template: a, $tbody: r } = necesarios; try { let t = await fetch(url), d = await t.json(); if (!t.ok) throw { status: t.status, response: t.ok }; pintarDom(d, a, e, r) } catch (t) { let e = `Se ha producido un error ${t.status} -- la respuesta ha sido ${t.response}`; alert(e) } }; function pintarDom(t, e, a, r) { t.map((t, r) => { e.querySelector(".fruta").textContent = t.fruta, e.querySelector(".cantidadFruta").textContent = t.cantidad, e.querySelector(".edit").dataset.id = t.id, e.querySelector(".edit").dataset.fruta = t.fruta, e.querySelector(".edit").dataset.cantidad = t.cantidad, e.querySelector(".delete").dataset.id = t.id; let o = d.importNode(e, !0); a.appendChild(o) }), r.appendChild(a) } d.addEventListener("DOMContentLoaded", getData), d.addEventListener("click", t => { const { $form: e } = necesarios; t.target.matches("#traerDatos") && (location.reload(), e.cFrutasVendidas.value = fruta.value) });